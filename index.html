<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VishwaOps VPC Networking in Multi Cloud</title>

<style>
/* ===== Theme tokens ===== */
:root{
  --bg:#f5f7fb; --ink:#121826; --muted:#667191;
  --card:#ffffff; --border:#e6ebf4; --navy:#03346e;
  --accent:#1a73e8; --accent2:#12bda0; --accent3:#9b8cff;
  --codebg:#0f172a; --codetext:#c6e1ff;
  --shadow:0 10px 22px rgba(15,31,62,.08);
  --tile:#f8fbff; --glow:0 0 0 rgba(0,0,0,0);
}
:root[data-theme="dark"]{
  --bg:#0b1220; --ink:#e8eefc; --muted:#a7b4d1;
  --card:#0f1a31; --border:#1b2b4d; --navy:#0f1c34;
  --accent:#62a8ff; --accent2:#6cf0d2; --accent3:#c8b6ff;
  --codebg:#0b1426; --codetext:#cfe1ff;
  --shadow:0 16px 36px rgba(0,0,0,.55);
  --tile:#0f1a31; --glow:0 0 42px rgba(98,168,255,.25);
}

/* ===== Base ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; background:var(--bg); color:var(--ink);}

/* ===== Header ===== */
header{
  position:sticky; top:0; z-index:50;
  background:linear-gradient(90deg, var(--navy), #004b8d 60%, #0064c8);
  color:#fff; padding:14px 18px; border-bottom:1px solid rgba(255,255,255,.18);
  box-shadow:0 10px 24px rgba(0,0,0,.2);
}
.header-wrap{max-width:1280px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:12px;}
.brand{display:flex; align-items:center; gap:12px; color:#fff; text-decoration:none;}
.brand img{width:48px; height:48px; border-radius:10px; object-fit:cover; box-shadow:0 6px 14px rgba(0,0,0,.25)}
.brand h1{margin:0; font-size:18px; font-weight:900; letter-spacing:.25px}
.controls{display:flex; gap:8px; align-items:center; flex-wrap:wrap;}
.tab, .btn{
  border:1px solid rgba(255,255,255,.35); background:rgba(255,255,255,.12); color:#fff; padding:8px 12px; border-radius:999px; cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.tab:hover,.btn:hover{transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.25)}
.tab.active{background:#fff; color:#0d1b2a; border-color:#fff;}

/* ===== Layout ===== */
main{padding:22px 0 92px;}
.container{max-width:1280px; margin:0 auto; padding:0 18px;}
.section{background:var(--card); border:1px solid var(--border); border-radius:18px; padding:18px; box-shadow:var(--shadow); margin-bottom:18px; position:relative; overflow:hidden;}
.section:before{
  content:""; position:absolute; inset:-2px; border-radius:18px; pointer-events:none;
  background:radial-gradient(600px 120px at -10% -20%, rgba(26,115,232,.18), transparent 60%),
             radial-gradient(600px 160px at 110% 120%, rgba(18,189,160,.15), transparent 60%);
  opacity:.6;
}
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:18px;}
.grid3{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px;}
@media (max-width: 980px){ .grid2{grid-template-columns:1fr;} }
h2{margin:8px 0 12px; color:#0d3b66}
h3{margin:8px 0 8px; color:#0d3b66}
.subtitle{color:var(--muted); margin:6px 0 16px}
.kicker{font-weight:800; color:var(--accent3); font-size:12px; letter-spacing:.4px; text-transform:uppercase}

/* ===== Cards ===== */
.card{background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:var(--shadow); position:relative; overflow:hidden;}
.card:after{content:""; position:absolute; inset:-1px; border-radius:16px; pointer-events:none; box-shadow:var(--glow);}
ul{margin:6px 0 0 18px}
.small{font-size:12px; color:var(--muted)}
.badge{display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; border:1px solid var(--border); background:var(--tile);}

/* ===== Hero ===== */
.hero{display:flex; gap:18px; align-items:center}
.hero-blob{width:72px; height:72px; border-radius:20px;
  background:conic-gradient(from 0deg, var(--accent) 0 120deg, var(--accent2) 120deg 240deg, var(--accent3) 240deg 360deg);
  filter:saturate(1.1) contrast(1.1); animation:spin 9s linear infinite;}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== Scenario picker ===== */
.scenario-list{display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:14px;}
.scenario-list .item{
  border:1px solid var(--border); border-radius:16px; padding:14px; background:var(--tile); cursor:pointer;
  transition:transform .18s ease, box-shadow .18s ease, outline-color .18s ease;
}
.scenario-list .item:hover{transform:translateY(-3px) scale(1.01); box-shadow:0 12px 28px rgba(0,0,0,.10); outline:2px solid var(--accent);}

/* ===== Diagrams ===== */
pre.ascii{
  background:var(--codebg); color:var(--codetext); padding:14px; border-radius:14px; overflow:auto; border:1px solid #0a1530;
  white-space:pre; line-height:1.25;
}
.diagram{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
.tile{
  background:linear-gradient(180deg, var(--tile), rgba(255,255,255,.08));
  border:1px solid var(--border); border-radius:14px; padding:12px; position:relative; overflow:hidden;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.tile .title{font-weight:800; margin-bottom:4px}
.tile .desc{font-size:13px; color:var(--muted)}
.tile:hover{transform:translateY(-4px); box-shadow:0 16px 34px rgba(0,0,0,.12); border-color:rgba(26,115,232,.45);}
.arrow{font-size:22px; text-align:center; align-self:center}

/* ===== Table (Differences) ===== */
.table-wrap{overflow:auto}
table.diff{border-collapse:separate; border-spacing:0; width:100%; min-width:880px; background:var(--card); border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow)}
table.diff th, table.diff td{padding:12px 10px; text-align:left; border-bottom:1px solid var(--border);}
table.diff th{position:sticky; top:0; background:linear-gradient(0deg, rgba(255,255,255,0), rgba(255,255,255,.5)), var(--tile); color:#0d3b66; font-weight:900;}
table.diff tr:last-child td{border-bottom:0}
table.diff td em{color:var(--muted)}

/* ===== Reveal animation ===== */
.reveal{opacity:0; transform:translateY(10px) scale(.98); animation:reveal .6s ease forwards}
.reveal.delay1{animation-delay:.08s}
.reveal.delay2{animation-delay:.16s}
.reveal.delay3{animation-delay:.24s}
@keyframes reveal{to{opacity:1; transform:none}}

/* ===== Footer ===== */
footer{background:linear-gradient(90deg, var(--navy), #004b8d); color:#fff; text-align:center; padding:18px; margin-top:22px;}
footer a{color:#fff; text-decoration:underline;}

/* ===== Hidden ===== */
.hidden{display:none}

/* ===== Voice Gate Banner ===== */
.voice-gate{
  position:fixed; inset:auto 12px 12px 12px; z-index:60;
  background:var(--card); border:2px dashed var(--accent); padding:12px; border-radius:16px; box-shadow:var(--shadow);
  display:flex; gap:12px; align-items:center; justify-content:space-between;
}
.voice-gate strong{color:#0d3b66}
</style>
</head>
<body>
  <header>
    <div class="header-wrap">
      <a class="brand" href="#" onclick="goHome();return false;">
        <img src="logo.jpg" alt="" onerror="this.style.display='none'">
        <h1>VishwaOps VPC Networking in Multi Cloud</h1>
      </a>
      <div class="controls">
        <button id="themeBtn" class="btn" title="Toggle Theme">üåó Theme</button>
        <button class="tab active" id="tab-home" onclick="navTo('home')">üè† Home</button>
        <button class="tab" id="tab-aws" onclick="navTo('aws')">üüß AWS VPC Labs</button>
        <button class="tab" id="tab-gcp" onclick="navTo('gcp')">üîµ GCP VPC Labs</button>
        <button class="tab" id="tab-azure" onclick="navTo('azure')">üü™ Azure VNet Labs</button>
        <button class="tab" id="tab-diff" onclick="navTo('diff')">‚öñÔ∏è Differences</button>
      </div>
    </div>
  </header>

  <main>
    <div class="container">

      <!-- ================= HOME ================= -->
      <section id="tabContent-home">
        <div class="section card reveal">
          <div class="hero">
            <div class="hero-blob"></div>
            <div>
              <div class="kicker">welcome</div>
              <h2>Welcome to the VPC Lab Portal</h2>
              <p class="subtitle">
                Learn networking step-by-step with detailed tasks, animated diagrams, voice prompts and tests.
                Final outcome matches your 3-tier flow: <em>Internet ‚Üí ALB ‚Üí Frontend ‚Üí Backend ‚Üí RDS</em>. :contentReference[oaicite:5]{index=5}
              </p>
            </div>
          </div>
        </div>

        <div class="section grid3">
          <article class="card reveal delay1">
            <h3>What is a VPC?</h3>
            <p><strong>Layman:</strong> Your private neighborhood in the cloud (you design roads, houses, gates).</p>
            <p><strong>Technical:</strong> A logically isolated network with your CIDR, subnets, route tables, gateways (IGW/NAT), security (SG/NACL) and endpoints. :contentReference[oaicite:6]{index=6}</p>
          </article>
          <article class="card reveal delay2">
            <h3>Why do we need it?</h3>
            <ul>
              <li>Address control & segmentation (public vs private)</li>
              <li>Security, compliance & isolation</li>
              <li>High availability via multi-AZ design</li>
              <li>Real 3-tier app fits naturally inside a VPC. :contentReference[oaicite:7]{index=7}</li>
            </ul>
          </article>
          <article class="card reveal delay3">
            <h3>How do we use it (real time)?</h3>
            <ol>
              <li>Plan CIDR ‚Üí carve subnets across AZs ‚Üí attach gateways</li>
              <li>Wire route tables (IGW/NAT/TGW/Endpoints)</li>
              <li>Lock with SG/NACL ‚Üí deploy ALB/EC2/RDS ‚Üí test the end-to-end flow. :contentReference[oaicite:8]{index=8}</li>
            </ol>
          </article>
        </div>

        <div class="section card reveal">
          <h3>Your final outcome</h3>
          <div class="diagram">
            <div class="tile"><div class="title">üåê ALB</div><div class="desc">HTTPS entry</div></div>
            <div class="arrow">‚û°Ô∏è</div>
            <div class="tile"><div class="title">üñ•Ô∏è Frontend</div><div class="desc">Private EC2</div></div>
            <div class="arrow">‚û°Ô∏è</div>
            <div class="tile"><div class="title">‚öôÔ∏è Backend</div><div class="desc">Private EC2</div></div>
            <div class="arrow">‚û°Ô∏è</div>
            <div class="tile"><div class="title">üóÑÔ∏è RDS</div><div class="desc">Private DB</div></div>
          </div>
          <p class="small">Consistent with your Architecture/Setup/Outcome pages. :contentReference[oaicite:9]{index=9} :contentReference[oaicite:10]{index=10}</p>
        </div>
      </section>

      <!-- ================= AWS (18 scenarios) ================= -->
      <section id="tabContent-aws" class="hidden">
        <p class="subtitle">Click a card to load details + animated diagram. The voice will announce each scenario clearly.</p>
        <div class="section scenario-list" id="awsList"></div>

        <section class="section" id="awsDetail">
          <div class="badge" id="awsTag">Lab</div>
          <h2 id="awsTitle">Lab Title</h2>

          <div class="grid2">
            <div class="card"><h3>Outcome</h3><p id="awsOutcome"></p></div>
            <div class="card"><h3>What you‚Äôll build</h3><ul id="awsBuild"></ul></div>
          </div>

          <div class="card"><h3>How to do it (step-by-step)</h3><ol id="awsSteps"></ol></div>

          <div class="grid2">
            <div class="card"><h3>Test & Output</h3><ul id="awsTests"></ul></div>
            <div class="card"><h3>Real-world Scenario</h3><p id="awsReal"></p></div>
          </div>

          <div class="card"><h3>Box Diagram (animated)</h3><div class="diagram" id="awsBox"></div></div>
          <div class="card"><h3>ASCII Diagram</h3><pre class="ascii" id="awsDiagram"></pre></div>

          <div class="grid2"><button class="badge" onclick="awsPrev()">‚óÄ Prev Lab</button><button class="badge" onclick="awsNext()">Next Lab ‚ñ∂</button></div>
        </section>
      </section>

      <!-- ================= GCP ================= -->
      <section id="tabContent-gcp" class="hidden">
        <p class="subtitle">GCP equivalents: custom VPC, Cloud NAT, HTTPS LB, Cloud SQL, Private Service Connect, Cloud VPN, DR pilot light.</p>
        <div class="section scenario-list" id="gcpList"></div>

        <section class="section" id="gcpDetail">
          <div class="badge" id="gcpTag">Lab</div>
          <h2 id="gcpTitle">Lab Title</h2>

          <div class="grid2">
            <div class="card"><h3>Outcome</h3><p id="gcpOutcome"></p></div>
            <div class="card"><h3>What you‚Äôll build</h3><ul id="gcpBuild"></ul></div>
          </div>

          <div class="card"><h3>How to do it (step-by-step)</h3><ol id="gcpSteps"></ol></div>

          <div class="grid2">
            <div class="card"><h3>Test & Output</h3><ul id="gcpTests"></ul></div>
            <div class="card"><h3>Real-world Scenario</h3><p id="gcpReal"></p></div>
          </div>

          <div class="card"><h3>Box Diagram (animated)</h3><div class="diagram" id="gcpBox"></div></div>
          <div class="card"><h3>ASCII Diagram</h3><pre class="ascii" id="gcpDiagram"></pre></div>

          <div class="grid2"><button class="badge" onclick="gcpPrev()">‚óÄ Prev Lab</button><button class="badge" onclick="gcpNext()">Next Lab ‚ñ∂</button></div>
        </section>
      </section>

      <!-- ================= AZURE ================= -->
      <section id="tabContent-azure" class="hidden">
        <p class="subtitle">Azure parallels: VNet/NAT GW, App Gateway, Private Link, VPN/ExpressRoute, DR pilot light.</p>
        <div class="section scenario-list" id="azureList"></div>

        <section class="section" id="azureDetail">
          <div class="badge" id="azureTag">Lab</div>
          <h2 id="azureTitle">Lab Title</h2>

          <div class="grid2">
            <div class="card"><h3>Outcome</h3><p id="azureOutcome"></p></div>
            <div class="card"><h3>What you‚Äôll build</h3><ul id="azureBuild"></ul></div>
          </div>

          <div class="card"><h3>How to do it (step-by-step)</h3><ol id="azureSteps"></ol></div>

          <div class="grid2">
            <div class="card"><h3>Test & Output</h3><ul id="azureTests"></ul></div>
            <div class="card"><h3>Real-world Scenario</h3><p id="azureReal"></p></div>
          </div>

          <div class="card"><h3>Box Diagram (animated)</h3><div class="diagram" id="azureBox"></div></div>
          <div class="card"><h3>ASCII Diagram</h3><pre class="ascii" id="azureDiagram"></pre></div>

          <div class="grid2"><button class="badge" onclick="azurePrev()">‚óÄ Prev Lab</button><button class="badge" onclick="azureNext()">Next Lab ‚ñ∂</button></div>
        </section>
      </section>

      <!-- ================= DIFFERENCES ================= -->
      <section id="tabContent-diff" class="hidden">
        <div class="section card">
          <h2>Cloud Networking ‚Äì Key Differences (AWS vs GCP vs Azure)</h2>
          <p class="subtitle">Quick reference for gotchas before labs. Aligns with your Architecture/Setup/Outcome docs. :contentReference[oaicite:11]{index=11} :contentReference[oaicite:12]{index=12} :contentReference[oaicite:13]{index=13}</p>
          <div class="table-wrap">
            <table class="diff">
              <thead>
                <tr>
                  <th>Topic</th>
                  <th>üüß AWS (VPC)</th>
                  <th>üîµ GCP (VPC)</th>
                  <th>üü™ Azure (VNet)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>VPC/VNet creation & CIDR</strong></td>
                  <td>Choose VPC CIDR at creation (e.g., 10.0.0.0/16). Secondary CIDRs can be added later.</td>
                  <td><em>Default VPC pre-created</em> in most regions. For custom: you define CIDRs on <strong>subnets</strong>; the VPC is a regional container.</td>
                  <td>Choose VNet CIDR at creation (e.g., 10.20.0.0/16). You can add address spaces later.</td>
                </tr>
                <tr>
                  <td><strong>Subnet model</strong></td>
                  <td>Subnets are AZ-scoped; route tables explicitly associated (or main RT). SG + NACL.</td>
                  <td>Subnets are region-scoped ranges; firewall rules are VPC/project level (tags/SAs common).</td>
                  <td>Subnets are zone-scoped; NSG + optional UDR per subnet/NIC.</td>
                </tr>
                <tr>
                  <td><strong>Internet access object</strong></td>
                  <td>Internet Gateway (IGW) + RT 0.0.0.0/0 ‚Üí IGW (public subnets).</td>
                  <td>Default system route + external IP; no explicit IGW resource object.</td>
                  <td>System route + public IP; no discrete IGW object.</td>
                </tr>
                <tr>
                  <td><strong>Private egress (NAT)</strong></td>
                  <td>NAT Gateway (managed) or NAT Instance (DIY).</td>
                  <td>Cloud NAT (with Cloud Router). No NAT instance pattern recommended.</td>
                  <td>NAT Gateway associated to subnet (zonal).</td>
                </tr>
                <tr>
                  <td><strong>Private services</strong></td>
                  <td>PrivateLink (Endpoint Service ‚Üî Interface Endpoint).</td>
                  <td>Private Service Connect (PSC).</td>
                  <td>Private Link (PLS ‚Üî Private Endpoint).</td>
                </tr>
                <tr>
                  <td><strong>Cross network</strong></td>
                  <td>VPC Peering (non-transitive) / TGW (hub-and-spoke).</td>
                  <td>VPC Peering (non-transitive); Cloud Router + VPN/Interconnect.</td>
                  <td>VNet Peering / Virtual WAN Hub.</td>
                </tr>
                <tr>
                  <td><strong>DNS private</strong></td>
                  <td>Route 53 PHZ + Resolver In/Out endpoints.</td>
                  <td>Cloud DNS private zones; DNS policies; PSC naming.</td>
                  <td>Azure Private DNS zones; inbound/outbound resolvers.</td>
                </tr>
                <tr>
                  <td><strong>Common student gotcha</strong></td>
                  <td>Wrong RT association or missing SG rule.</td>
                  <td>Assuming VPC CIDR is set on VPC; reality: you mostly set subnet CIDRs.</td>
                  <td>Forgetting NAT GW/UDR, or NSG blocks traffic.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="section card">
          <h3>Voice-over topics (tap to hear)</h3>
          <div class="scenario-list" id="diffList"></div>
          <div class="card">
            <h3 id="diffTitle">Topic</h3>
            <p id="diffBody"></p>
          </div>
        </div>
      </section>

    </div>
  </main>

  <footer>¬© 2025 VishwaOps ‚Ä¢ Teach & build with confidence</footer>

  <!-- Voice permission banner (mobile friendly) -->
  <div id="voiceGate" class="voice-gate">
    <div><strong>üîä Enable Voice</strong><br><span class="small">Tap to allow voice guidance on this device (required by mobile browsers).</span></div>
    <div style="display:flex;gap:8px;align-items:center">
      <button class="btn" id="enableVoiceBtn">Enable Voice</button>
      <button class="btn" onclick="document.getElementById('voiceGate').remove()">Hide</button>
    </div>
  </div>

<script>
/* ================= Theme ================= */
const THEME_KEY='vishwaops-theme';
function applyTheme(t){ document.documentElement.setAttribute('data-theme', t); localStorage.setItem(THEME_KEY, t); }
document.getElementById('themeBtn').onclick = ()=>{ const cur=document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark'; applyTheme(cur); clickBeep(); };
applyTheme(localStorage.getItem(THEME_KEY)||'light'); // default to white

/* ================= Audio + Voice (mobile-safe) ================= */
let audioCtx, VOICE_ENABLED = false;
function ensureAudio(){ if(!audioCtx){ audioCtx = new (window.AudioContext||window.webkitAudioContext)(); } return audioCtx; }
function clickBeep(){
  try{ const ctx=ensureAudio(), o=ctx.createOscillator(), g=ctx.createGain();
    o.type='triangle'; o.frequency.value=920;
    g.gain.setValueAtTime(0.0001, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.12, ctx.currentTime+0.01);
    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.11);
    o.connect(g).connect(ctx.destination); o.start(); o.stop(ctx.currentTime+0.12);
  }catch(e){}
}
document.addEventListener('click', (e)=>{ if(e.target.closest('button,.item,.tab,.btn')) clickBeep(); }, true);

function voiceChime(){
  if(!VOICE_ENABLED) return;
  try{ const ctx=ensureAudio(), o=ctx.createOscillator(), g=ctx.createGain();
    o.type='sine'; o.frequency.value=1400;
    g.gain.setValueAtTime(0.0001, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.18, ctx.currentTime+0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.18);
    o.connect(g).connect(ctx.destination); o.start(); o.stop(ctx.currentTime+0.19);
  }catch(e){}
}
function chooseVoice(){
  const s=window.speechSynthesis; if(!s) return null;
  const vs=s.getVoices()||[];
  return vs.find(v=>/en-IN/i.test(v.lang))
      || vs.find(v=>/en-GB|en-US|en-AU|en-CA/i.test(v.lang))
      || vs[0] || null;
}
function speak(text){
  if(!VOICE_ENABLED) return;
  try{
    const s=window.speechSynthesis; if(!s) return;
    const u=new SpeechSynthesisUtterance(text);
    const v=chooseVoice(); if(v) u.voice=v;
    u.rate=0.95; u.pitch=1.0; u.volume=1.0;
    s.cancel(); voiceChime(); setTimeout(()=>s.speak(u), 120);
  }catch(e){}
}

// Gate: user tap to enable on iOS/Android
document.getElementById('enableVoiceBtn').addEventListener('click', ()=>{
  ensureAudio().resume().then(()=>{
    VOICE_ENABLED = true;
    document.getElementById('voiceGate').remove();
    speak('Voice enabled. Welcome to VishwaOps V P C lab scenarios in multi cloud.');
    confetti();
  });
}, {passive:true});

/* ================= Confetti (no libs) ================= */
function confetti(){
  const c=document.createElement('canvas'); c.width=window.innerWidth; c.height=200; c.style.cssText='position:fixed;left:0;top:0;pointer-events:none;z-index:100';
  document.body.appendChild(c);
  const ctx=c.getContext('2d'); const pieces=[...Array(120)].map(()=>({x:Math.random()*c.width,y:Math.random()*-200,vy:2+Math.random()*3,w:6+Math.random()*6,h:2+Math.random()*3,clr:`hsl(${Math.random()*360},90%,65%)`}));
  let t=0; (function draw(){ ctx.clearRect(0,0,c.width,c.height); pieces.forEach(p=>{ p.y+=p.vy; ctx.fillStyle=p.clr; ctx.fillRect(p.x,p.y,p.w,p.h); }); if(++t<130){ requestAnimationFrame(draw);} else { c.remove(); } })();
}

/* ================= Tabs ================= */
function setActiveTab(id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('tab-'+id).classList.add('active');
  document.querySelectorAll('[id^="tabContent-"]').forEach(s=>s.classList.add('hidden'));
  document.getElementById('tabContent-'+id).classList.remove('hidden');
  document.querySelectorAll('#tabContent-'+id+' .section').forEach((el,i)=>{ el.classList.add('reveal'); el.style.animationDelay=(i*0.05)+'s'; });
}
function navTo(id){
  setActiveTab(id);
  if(id==='home') speak('Welcome to VishwaOps V P C Networking in Multi Cloud');
  if(id==='aws') speak('Welcome to A W S V P C lab');
  if(id==='gcp') speak('Welcome to G C P V P C lab');
  if(id==='azure') speak('Welcome to Azure V Net lab');
  if(id==='diff') speak('Cloud networking differences across A W S, G C P and Azure');
}
function goHome(){ navTo('home'); }

/* ================= Box diagram helper ================= */
function renderBox(container, boxes){
  container.innerHTML='';
  boxes.forEach((b,i)=>{
    if(b==='arrow'){
      const a=document.createElement('div'); a.className='arrow reveal'; a.textContent='‚û°Ô∏è'; a.style.animationDelay=`${i*0.05}s`; container.appendChild(a);
    }else{
      const d=document.createElement('div'); d.className='tile reveal'; d.style.animationDelay=`${i*0.05}s`;
      d.innerHTML=`<div class="title">${b.title}</div><div class="desc">${b.desc||''}</div>`;
      container.appendChild(d);
    }
  });
}

/* =================== LAB DATA =================== */
/* 18 AWS scenarios */
const AWS_LABS = [
  { id:'aws1',  say:'Lab 1: V P C core lab', tag:'Lab-1', title:'Core VPC: 10.0.0.0/16 + 1 Public + 2 Private + IGW + RTs',
    outcome:'Public has Internet via IGW; private isolated; intra-VPC works.',
    build:['VPC 10.0.0.0/16','Public 10.0.1.0/24','Private-App 10.0.3.0/24','Private-DB 10.0.4.0/24','IGW','RTs','EC2: Bastion/App/DB'],
    steps:['Create VPC/subnets','Attach IGW','Public RT: 0.0.0.0/0 ‚Üí IGW','Associate RTs','Launch EC2s','SG rules (22/80 from your IP; private only from bastion)'],
    tests:['Bastion ‚Üí Internet works','Private no Internet','Private ‚Üî Private works'],
    real:'Baseline landing zone. :contentReference[oaicite:14]{index=14}',
    ascii:`Internet ‚Üí IGW ‚Üí Public EC2 (bastion) ‚Üí Private EC2s`,
    box:[{title:'üåç User'},{title:'üåê IGW'},'arrow',{title:'üõ∞Ô∏è Public EC2'},{title:'üîí Private App'},'arrow',{title:'üóÑÔ∏è Private DB'}]
  },
  { id:'aws2',  say:'Lab 2: NAT Gateway egress', tag:'Lab-2', title:'Private Egress via NAT Gateway',
    outcome:'Private subnets reach Internet for updates; inbound closed.',
    build:['EIP','NAT GW in public subnet','Private RT: default ‚Üí NAT GW'],
    steps:['Allocate EIP','Create NAT GW','Edit Private RT default route'],
    tests:['yum/apt update from private works','No inbound to private'],
    real:'Secure patching.'
  },
  { id:'aws3',  say:'Lab 3: Three tier with A L B and R D S', tag:'Lab-3', title:'3-Tier: ALB (Public) ‚Üí App EC2 (Private) ‚Üí RDS (Private)',
    outcome:'HTTPS via ALB; app private; DB isolated in DB subnets.',
    build:['ALB HTTPS (ACM)','TG ‚Üí App EC2','RDS in DB subnets; SG only from App'],
    steps:['ALB + listener 443','TG + health check /health','RDS SG allows App SG'], tests:['ALB DNS ‚Üí UI','/api ‚Üí 200','DB private only'],
    real:'Matches your Outcome page. :contentReference[oaicite:15]{index=15}', box:[{title:'üåê ALB'},'arrow',{title:'‚öôÔ∏è App'},'arrow',{title:'üóÑÔ∏è RDS'}], ascii:`Internet‚ÄîHTTPS‚ÜíALB‚ÜíApp‚ÜíRDS`
  },
  { id:'aws4',  say:'Lab 4: V P C Endpoints S three and S S M', tag:'Lab-4', title:'VPC Endpoints: S3 (Gateway) + SSM (Interface)',
    outcome:'Access AWS services privately without NAT.',
    build:['S3 Gateway EP','SSM/EC2Messages/SSMMessages Interface EPs'],
    steps:['Create S3 Gateway EP + RT prefixes','Create SSM IF EPs + Private DNS','Use Session Manager'],
    tests:['S3 works w/o public egress','SSM shell works'], real:'Zero-egress posture.'
  },
  { id:'aws5',  say:'Lab 5: NAT Instance vs NAT Gateway', tag:'Lab-5', title:'NAT Instance vs NAT Gateway (compare)',
    outcome:'Understand costs, HA, maintenance differences.',
    build:['NAT Instance (t3.medium + iptables)','NAT GW + EIP'],
    steps:['Launch NAT AMI & config IP forwarding','Swap Private RT ‚Üí NAT instance','Then swap to NAT GW'],
    tests:['Throughput check','Failover behavior'], real:'Prefer NAT GW for HA/ops.'
  },
  { id:'aws6',  say:'Lab 6: V P C Peering two V P Cs', tag:'Lab-6', title:'VPC Peering (non-transitive)',
    outcome:'Private IP connectivity between VPC-A and VPC-B.',
    build:['Create peering A‚ÜîB','Update routes both sides','SG allow'],
    steps:['Request/accept peering','RTs add peer routes','SGs permit traffic'],
    tests:['EC2 A‚ÜîB ping/curl','No transit to third VPC'], real:'Cross-team access.'
  },
  { id:'aws7',  say:'Lab 7: Transit Gateway hub and spoke', tag:'Lab-7', title:'Transit Gateway (TGW) hub-and-spoke',
    outcome:'Scalable hub to connect multiple VPCs/VPN/DX.',
    build:['Create TGW + RTs','Attach VPCs','Associate/propagate'],
    steps:['Create TGW','Attach VPC-A,B','TGW RT: associate/propagate','VPC RT ‚Üí TGW'],
    tests:['A‚ÜîB via TGW','Segmentation by RT'], real:'Enterprise backplane.'
  },
  { id:'aws8',  say:'Lab 8: PrivateLink producer and consumer', tag:'Lab-8', title:'PrivateLink: Endpoint Service ‚Üî Interface Endpoint',
    outcome:'Consume services privately without peering/TGW.',
    build:['Producer: NLB + Endpoint Service','Consumer: IF Endpoint + Private DNS'],
    steps:['Allow principal','Create endpoint + DNS'], tests:['Name resolves privately','TCP connects'], real:'Cross-account marketplace.'
  },
  { id:'aws9',  say:'Lab 9: V P N site to site', tag:'Lab-9', title:'Site-to-Site VPN (VGW/CGW)',
    outcome:'Hybrid private connectivity.',
    build:['CGW','VGW','BGP optional'], steps:['Create CGW & VGW','Create VPN & set BGP','Routes'], tests:['On-prem ‚Üî VPC works'], real:'Hybrid LOB.'
  },
  { id:'aws10', say:'Lab 10: Direct Connect with SiteLink', tag:'Lab-10', title:'Direct Connect + SiteLink',
    outcome:'Low-latency private connectivity; site‚Üîsite via SiteLink.',
    build:['DX + LOA-CFA','DXGW + Private VIF','Attach to TGW'], steps:['Order DX','Create DXGW/VIF (BGP)','Attach & propagate'], tests:['Traceroute via DX'], real:'Prod networks.'
  },
  { id:'aws11', say:'Lab 11: Route 53 private hosted zones', tag:'Lab-11', title:'Route 53 PHZ + Resolver In/Out',
    outcome:'Private DNS across VPC/on-prem.', build:['PHZ corp.local','Resolver inbound/outbound'],
    steps:['Create PHZ + records','Resolver endpoints + rules'], tests:['dig app.corp.local privately'], real:'Enterprise DNS.'
  },
  { id:'aws12', say:'Lab 12: S S M bastionless ops', tag:'Lab-12', title:'Bastionless Ops via SSM',
    outcome:'Operate EC2 without SSH/keys.', build:['SSM role','SSM endpoints'],
    steps:['Attach IAM role','Create IF EPs','Session Manager shell'], tests:['Shell works','Port-forward DB'], real:'Tight security.'
  },
  { id:'aws13', say:'Lab 13: E I C Endpoint', tag:'Lab-13', title:'EC2 Instance Connect Endpoint (EIC)',
    outcome:'SSH to private EC2 without bastion or public IP.',
    build:['Create EIC Endpoint','IAM perms'], steps:['Provision EIC','Use AWS Console ‚Üí Connect'], tests:['Session opens over private'], real:'Modern ops.'
  },
  { id:'aws14', say:'Lab 14: V P C Lattice', tag:'Lab-14', title:'VPC Lattice for service-to-service',
    outcome:'Consistent service networking + auth across VPCs.',
    build:['Create Lattice service & target','Auth policy','Associate VPCs'],
    steps:['Define service','Register targets','Set auth','DNS integration'],
    tests:['App A ‚Üí App B via Lattice'], real:'Microservice mesh-like.'
  },
  { id:'aws15', say:'Lab 15: IPv6 dual stack', tag:'Lab-15', title:'Enable IPv6 (dual-stack)',
    outcome:'Public/Private subnets get /64; egress via Egress-Only IGW.',
    build:['Add IPv6 CIDR to VPC/subnets','Egress-Only IGW'], steps:['Associate IPv6','Update routes','Test IPv6'], tests:['curl -6 works'], real:'Modern addressing.'
  },
  { id:'aws16', say:'Lab 16: Flow Logs + GuardDuty', tag:'Lab-16', title:'VPC Flow Logs + GuardDuty',
    outcome:'Traffic visibility + threat detection.',
    build:['Enable Flow Logs to CloudWatch/S3','Enable GuardDuty'], steps:['Flow Logs per VPC/subnet/ENI','GuardDuty enable + sample findings'], tests:['See flows; findings visible'], real:'Ops & Sec.'
  },
  { id:'aws17', say:'Lab 17: W A F, Shield, and A L B', tag:'Lab-17', title:'WAF/Shield in front of ALB',
    outcome:'L7 protection and DDoS mitigation.', build:['WAF web ACL','Attach to ALB','Shield Advanced (opt)'],
    steps:['Create rules/bot control','Associate with ALB'], tests:['Blocked path returns 403'], real:'Internet-facing hardening.'
  },
  { id:'aws18', say:'Lab 18: Global Accelerator + Multi-Region DR', tag:'Lab-18', title:'GA + Multi-Region DR (Pilot-Light)',
    outcome:'Static anycast entry; DR region ready.',
    build:['Global Accelerator','ALB endpoints per region','RDS read replica / backups','Route 53 failover'],
    steps:['Create GA + listeners','Add ALB endpoints','Replicate data','Health checks + failover'],
    tests:['GA DNS steady IP','Regional failover OK'], real:'Resilient edge.'
  },
];

/* GCP (sample set) */
const GCP_LABS = [
  { id:'g1', say:'G C P lab 1: Core V P C with Cloud N A T', tag:'Lab-1', title:'Custom VPC + Public/Private + Cloud NAT',
    outcome:'Private egress via Cloud NAT; bastion for admin.',
    build:['VPC 10.10.0.0/16','Public 10.10.1.0/24','Private 10.10.3.0/24 & 10.10.4.0/24','Cloud Router + Cloud NAT'],
    steps:['Create VPC/subnets','Bastion with public IP','Cloud Router + NAT','Firewall rules'],
    tests:['Private VM updates via NAT'], real:'Baseline.'
  },
  { id:'g2', say:'G C P lab 2: HTTPS load balancer', tag:'Lab-2', title:'HTTPS LB ‚Üí Private App MIG ‚Üí Cloud SQL (private IP)',
    outcome:'Global HTTPS LB fronts private app; DB private.',
    build:['MIG','NEG/ILB to private','Cloud SQL private IP'],
    steps:['Create MIG','Create NEG/ILB','Hook to HTTPS LB','Create Cloud SQL private IP'],
    tests:['LB URL ‚Üí UI','/api ‚Üí 200'], real:'3-tier on GCP.'
  },
  { id:'g3', say:'G C P lab 3: Private Service Connect', tag:'Lab-3', title:'Private Service Connect (PSC)',
    outcome:'Private consumer ‚Üî producer across projects.',
    build:['Producer attachment','Consumer PSC endpoint + DNS'],
    steps:['Allow consumer','Create endpoint + DNS'], tests:['Private connect OK'], real:'Cross-project.'
  },
  { id:'g4', say:'G C P lab 4: Cloud V P N', tag:'Lab-4', title:'Cloud VPN (IPSec/BGP)',
    outcome:'Hybrid connectivity.', build:['VPN','Cloud Router (BGP)'],
    steps:['Create VPN gateway','Set BGP','Routes + FW'], tests:['On-prem ‚Üî VPC works'], real:'Hybrid LOB.'
  },
];

/* Azure (sample set) */
const AZURE_LABS = [
  { id:'a1', say:'Azure lab 1: Core V Net with NAT Gateway', tag:'Lab-1', title:'VNet + Public/Private + NAT Gateway',
    outcome:'Private egress via NAT GW.', build:['VNet 10.20.0.0/16','Public 10.20.1.0/24','Private 10.20.3.0/24 & 10.20.4.0/24','NAT GW'],
    steps:['Create VNet/subnets','NAT GW + IP','Associate to private','NSG rules'],
    tests:['Private VM update via NAT'], real:'Azure baseline.'
  },
  { id:'a2', say:'Azure lab 2: App Gateway and Private Endpoint', tag:'Lab-2', title:'App Gateway (HTTPS) ‚Üí Private App ‚Üí Azure SQL (PE)',
    outcome:'HTTPS/WAF front; DB via Private Endpoint.',
    build:['AppGW + cert','Backend pool private','Azure SQL PE'],
    steps:['Deploy AppGW','Pool + probe','Private Endpoint + DNS'], tests:['AppGW URL works','DB only via PE'], real:'3-tier.'
  },
  { id:'a3', say:'Azure lab 3: Private Link provider consumer', tag:'Lab-3', title:'Private Link: Provider PLS ‚Üî Private Endpoint',
    outcome:'Private consumption across VNets/subscriptions.',
    build:['Provider PLS','Consumer Private Endpoint + DNS'],
    steps:['Expose PLS & approve','Create PE + DNS'], tests:['Private connect OK'], real:'Provider/consumer.'
  },
  { id:'a4', say:'Azure lab 4: V P N or ExpressRoute', tag:'Lab-4', title:'Site-to-Site VPN; note ER private peering',
    outcome:'Hybrid connectivity.', build:['VNet Gateway','Local Network Gateway','BGP opt'],
    steps:['Deploy VNet GW','Create connection','UDRs/NSG'], tests:['On-prem ‚Üî VNet works'], real:'Hybrid LOB.'
  },
];

/* ===== Scenario lists & detail fillers ===== */
function makeList(container, labs, onClick){
  container.innerHTML='';
  labs.forEach((L,idx)=>{
    const it=document.createElement('div'); it.className='item reveal'; it.style.animationDelay=`${idx*0.04}s`;
    it.innerHTML=`<strong>${L.tag}</strong><br>${L.title}`;
    it.onclick=()=>onClick(idx,L);
    container.appendChild(it);
  });
}
function fillDetail(prefix, labs, idx){
  const L = labs[idx];
  document.getElementById(prefix+'Tag').textContent = L.tag || '';
  document.getElementById(prefix+'Title').textContent = L.title || '';
  const buildEl = document.getElementById(prefix+'Build');
  const stepsEl = document.getElementById(prefix+'Steps');
  const testsEl = document.getElementById(prefix+'Tests');
  const realEl = document.getElementById(prefix+'Real');
  const asciiEl = document.getElementById(prefix+'Diagram');
  const boxEl = document.getElementById(prefix+'Box');

  if(buildEl){ buildEl.innerHTML=''; (L.build||[]).forEach(x=>{const li=document.createElement('li'); li.textContent=x; buildEl.appendChild(li);}); }
  if(stepsEl){ stepsEl.innerHTML=''; (L.steps||[]).forEach(x=>{const li=document.createElement('li'); li.textContent=x; stepsEl.appendChild(li);}); }
  if(testsEl){ testsEl.innerHTML=''; (L.tests||[]).forEach(x=>{const li=document.createElement('li'); li.textContent=x; testsEl.appendChild(li);}); }
  if(realEl){ realEl.textContent = L.real || ''; }
  if(asciiEl){ asciiEl.textContent = L.ascii || ''; }
  if(boxEl) renderBox(boxEl, L.box || []);
}

/* ===== AWS wiring ===== */
const awsList = document.getElementById('awsList'); let awsIdx = 0;
makeList(awsList, AWS_LABS, (i,L)=>{ awsIdx=i; fillDetail('aws', AWS_LABS, awsIdx); navTo('aws'); speak(L.say || L.tag || L.title); });
function awsPrev(){ awsIdx=(awsIdx-1+AWS_LABS.length)%AWS_LABS.length; fillDetail('aws', AWS_LABS, awsIdx); speak(AWS_LABS[awsIdx].say || AWS_LABS[awsIdx].tag || AWS_LABS[awsIdx].title); }
function awsNext(){ awsIdx=(awsIdx+1)%AWS_LABS.length; fillDetail('aws', AWS_LABS, awsIdx); speak(AWS_LABS[awsIdx].say || AWS_LABS[awsIdx].tag || AWS_LABS[awsIdx].title); }

/* ===== GCP wiring ===== */
const gcpList = document.getElementById('gcpList'); let gcpIdx = 0;
makeList(gcpList, GCP_LABS, (i,L)=>{ gcpIdx=i; fillDetail('gcp', GCP_LABS, gcpIdx); navTo('gcp'); speak(L.say || L.tag || L.title); });
function gcpPrev(){ gcpIdx=(gcpIdx-1+GCP_LABS.length)%GCP_LABS.length; fillDetail('gcp', GCP_LABS, gcpIdx); speak(GCP_LABS[gcpIdx].say || GCP_LABS[gcpIdx].tag || GCP_LABS[gcpIdx].title); }
function gcpNext(){ gcpIdx=(gcpIdx+1)%GCP_LABS.length; fillDetail('gcp', GCP_LABS, gcpIdx); speak(GCP_LABS[gcpIdx].say || GCP_LABS[gcpIdx].tag || GCP_LABS[gcpIdx].title); }

/* ===== Azure wiring ===== */
const azureList = document.getElementById('azureList'); let azureIdx = 0;
makeList(azureList, AZURE_LABS, (i,L)=>{ azureIdx=i; fillDetail('azure', AZURE_LABS, azureIdx); navTo('azure'); speak(L.say || L.tag || L.title); });
function azurePrev(){ azureIdx=(azureIdx-1+AZURE_LABS.length)%AZURE_LABS.length; fillDetail('azure', AZURE_LABS, azureIdx); speak(AZURE_LABS[azureIdx].say || AZURE_LABS[azureIdx].tag || AZURE_LABS[azureIdx].title); }
function azureNext(){ azureIdx=(azureIdx+1)%AZURE_LABS.length; fillDetail('azure', AZURE_LABS, azureIdx); speak(AZURE_LABS[azureIdx].say || AZURE_LABS[azureIdx].tag || AZURE_LABS[azureIdx].title); }

/* ===== Differences ‚Äì voice topics ===== */
const DIFF_TOPICS = [
  {t:'CIDR at creation', d:'In A W S and Azure, you choose V P C or V Net C I D R during creation. In G C P, the default V P C exists and you usually define C I D R on subnets when customizing networks.'},
  {t:'Internet objects', d:'A W S uses an Internet Gateway plus route tables. G C P relies on default system routes and external I P. Azure uses system routes with public I P; no separate I G W object.'},
  {t:'Private egress', d:'A W S: N A T Gateway or instance. G C P: Cloud N A T with Cloud Router. Azure: N A T Gateway associated to subnets.'},
  {t:'Private services', d:'A W S PrivateLink, G C P Private Service Connect, Azure Private Link‚Äîsame idea, different setup flows.'},
  {t:'Cross networking', d:'A W S Transit Gateway, G C P Cloud Router plus V P N/Interconnect, Azure Virtual W A N Hub.'},
  {t:'DNS private', d:'Route 53 P H Z, Cloud D N S private zones, Azure Private D N S zones.'},
];
const diffList = document.getElementById('diffList');
DIFF_TOPICS.forEach((x,i)=>{
  const it=document.createElement('div');
  it.className='item reveal'; it.style.animationDelay=`${i*0.04}s`;
  it.innerHTML=`<strong>${x.t}</strong><br><span class="small">${x.d.slice(0,90)}...</span>`;
  it.onclick=()=>{ document.getElementById('diffTitle').textContent=x.t; document.getElementById('diffBody').textContent=x.d; navTo('diff'); speak(x.t + '. ' + x.d); };
  diffList.appendChild(it);
});

/* ===== Default: Home, and pre-render first lab so details appear instantly ===== */
setActiveTab('home');
fillDetail('aws', AWS_LABS, 0);
fillDetail('gcp', GCP_LABS, 0);
fillDetail('azure', AZURE_LABS, 0);
</script>
</body>
</html>
